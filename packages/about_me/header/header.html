<link rel="import" href="../../../packages/polymer/polymer.html" />
<link rel="import" href="../../../packages/paper_elements/paper_dropdown.html" />
<link rel="import" href="../../../packages/paper_elements/paper_item.html" />
<link rel="import" href="../../../packages/paper_elements/paper_menu_button.html" />
<link rel="import" href="../../../packages/paper_elements/paper_shadow.html" />


<polymer-element name="dkp-header">
  <template> 
    <link rel="stylesheet" href="header.css" />
    <div id="hidden-panel" class="panel-expanded no-print"></div>
    <div id="panel" class="{{panelSizeStyle}} {{panelDisplayStyle}}">
      <paper-shadow z="1" class="fill no-print"></paper-shadow>
      <img id="profile-pic"
           class="no-print center {{profilePicStyle}}"
           src="images/profile.jpg" />
      <h1 id="name" class="center {{nameStyle}}">
        Dylan Powers
      </h1>
      <p id="website" class="print-only center">http://bits.dylankpowers.com</p>

      <div id="links-box" class="">
        <header-link id="email" class="left" name="Email" url="mailto:" user="{{EMAIL_ADDRESS}}@gmail.com">
          <img class="link-logo"
               alt="Email"
               src="images/email_icon_96px.png" />
        </header-link>

        <header-link class="right" name="Github" url="https://github.com/" user="dylanPowers">
          <img class="link-logo"
               alt="Github"
               src="images/github_mark_120px.png"/>
        </header-link>

        <header-link class="no-print" name="Resume" url="javascript:(function() { print() })()">
          <img class="link-logo" alt="Resume" src="images/print_icon_96px.png" />
        </header-link>

        <header-link class="left" name="Medium" url="https://medium.com/" user="@dylankpowers">
          <img id="medium-logo" class="link-logo"
               alt="Medium"
               src="images/medium_icon_100px.png"/>
        </header-link>

        <header-link class="no-print" name="Twitter" url="https://twitter.com/" user="@dylankpowers">
          <img class="link-logo"
               alt="Twitter"
               src="images/twitter_icon_128px.png"/>
        </header-link>

        <header-link class="no-print" name="Google+" url="https://plus.google.com/" user="+DylanPowersz">
          <img id="google-plus-logo" class="link-logo"
               alt="Google Plus"
               src="images/g+_icon_64px.png" />
        </header-link>

        <header-link class="right" name="LinkedIn" url="https://www.linkedin.com/" user="in/dylankpowers">
          <img id="linkedin-logo" class="link-logo"
               alt="LinkedIn"
               src="images/linkedin_icon_128px.png"/>
        </header-link>

        <template if="{{showLinksMenu}}">
          <overflowed-links-menu
              class="no-print"
              overflowedLinks="{{overflowedLinks}}"
              menuPossiblyOpened="{{isOverflowedLinksMenuOpen}}"></overflowed-links-menu>
        </template>
      </div>
    </div>
  </template>
</polymer-element>


<polymer-element name="header-link" noscript attributes="name url user">
  <template>
    <link rel="stylesheet" href="header.css" />
    <template if="{{url != 'mailto:'}}">
      <p id="printed-text" class="print-only">{{url}}{{user}}</p>
    </template>
    <template if="{{url == 'mailto:'}}">
      <p id="printed-text" class="print-only">{{user}}</p>
    </template>

    <a id="link-logo-box" _href="{{url}}{{user}}" target="_blank" class="no-print">
      <header-link-ripple></header-link-ripple>
      <content></content>
    </a>
  </template>
</polymer-element>


<polymer-element name="header-link-ripple" noscript>
  <template>
    <paper-ripple class="circle recenteringTouch" fit></paper-ripple>
  </template>
</polymer-element>


<polymer-element name="overflowed-links-menu">
  <template>
    <link rel="stylesheet" href="header.css" />
    <paper-menu-button id="links-menu-button" on-click="{{linksMenuButtonClicked}}">
      <header-link-ripple></header-link-ripple>
      <img id="links-button-icon" class="links-icon no-print"
           src="images/link_icon_72px.png" />
      <paper-dropdown id="links-dropdown" class="dropdown" halign="right">
        <paper-item id="links-close-button">
          <img id="links-dropdown-icon" class="links-icon"
               src="images/link_icon_black_72px.png" />
        </paper-item>
        <template repeat="{{link in overflowedLinks}}">
          <a _href="{{link.href}}" target="_blank"><paper-item>{{link.name}}</paper-item></a>
        </template>
      </paper-dropdown>
    </paper-menu-button>
  </template>
</polymer-element>


<script type="application/dart" src="header.dart"></script>
